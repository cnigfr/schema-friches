"0","correctFile <- function(f, fields) {"
"0","  df_l <- list()"
"0","  # On parcourt chaque champ du schéma pour voir s'il existe ou non dans la donnée"
"0","  # S'il n'existe pas, on le rajoute"
"0","  for(field in fields) {"
"0","    if(!(field %in% names(f))) {"
"0","      message("">> "", field, "" n'existe pas. On ne remplit à NA"")"
"0","      # Ajout de la colonne avec valeur NA"
"0","      df_l[[field]] <- NA"
"0","    } else {"
"0","      # On prend la colonne précédente"
"0","      df_l[[field]] <- f[[field]]"
"0","    }"
"0","    "
"0","    # Rajoute les 0 le cas échéant à COLL_INSEE"
"0","    if(field == ""COLL_INSEE"") {"
"0","      df_l[[field]] <- f[[field]] %>% str_pad(5, side = ""left"", pad = ""0"")"
"0","    }"
"0","  }"
"0","  "
"0","  # On convertit la liste en data frame"
"0","  df <- data.frame(df_l)"
"0","  "
"0","  return(df)"
"0","}"
